//Animations variables
@dist: 30px;
@width: 1px;
@dur: 1.5s;
@start-deley: 500ms;

@circle-radius: 2px;
@circle-delay: 300ms;
@circle-dur: 300ms;

.anim-border{
  position: absolute;
  width: 100%;
  height: 100%;
}

.anim-line{
  height: @width;
  width: 100%;
  background-color: red;
  position: absolute;
  transition: all @dur;
  &:nth-child(1){
    top: @dist;
    transition-delay: @start-deley;
    margin: 0 auto;
    left: 0;
    right: 0;
    width: ~"calc(100% - 2*@{dist})";
    animation: width-anim @dur linear @start-deley 1;
    animation-fill-mode: forwards;
  }
  &:nth-child(2){
    left: @dist;
    height: 100%;
    width: @width;
    transition-delay: @start-deley + @dur;
    margin: @dist 0;
    // height: ~"calc(100% - 2*@{dist})";
    height: 0;
    animation: height-anim @dur linear @dur+@start-deley 1;
    animation-fill-mode: forwards;
  }
  &:nth-child(3){
    right: @dist;
    height: 100%;
    width: @width;
    transition-delay: @start-deley + @dur;
    margin: @dist 0;
    height: ~"calc(100% - 2*@{dist})";
    height: 0;
    animation: height-anim @dur linear @dur+@start-deley 1;
    animation-fill-mode: forwards;
  }
  &:nth-child(4){
    width: 40%;
    bottom: @dist;
    transition-delay: @start-deley + 2*@dur;
    margin: 0 @dist;
    width: ~"calc(50% - @{dist})";
        // width: 0%;
    float: left;
    width: 0;
    animation: width-anim-half @dur linear 2*@dur+@start-deley 1;
    animation-fill-mode: forwards;
  }
  &:nth-child(5){
    width: 40%;
    // padding-left: 50%;
    bottom: @dist;
    transition-delay: @start-deley + 2*@dur;
    // margin: 0 @dist;
    margin-left:~"calc(50%)";
    width: ~"calc(50% - @{dist})";
        // width: 0%;
    // float: right;
    right: @dist;
    width: 0;
    animation: width-anim-half @dur linear 2*@dur+@start-deley 1;
    animation-fill-mode: forwards;
  }
}
.anim-once(@name, @dur, @delay){
  animation-fill-mode: forwards;
  animation-duration: @dur;
  animation-name: @name;
  animation-iteration-count: 1;
  animation-delay: @delay; 
}
.more{
  opacity: 0;
  .anim-once(opacity, 500ms, 3*@dur+@start-deley + 9*@circle-delay);
}
.anim-arrow{
  position: absolute;
  top: 60%;
  height: 30%;
  left: 50%;
  display: flex;
  justify-content: space-around;
  flex-direction: column;
  .arrow{
    bottom: 0;
    margin-left: -5px;
    opacity: 0;
    // animation-fill-mode: forwards;
    // animation-duration: @circle-dur;
    // animation-name: opacity;
    // animation-iteration-count: 1;
    // animation-delay: 3*@dur+@start-deley + 8*@circle-delay;
    .anim-once(opacity, @circle-dur, 3*@dur+@start-deley + 8*@circle-delay);
  }
  .circle{
    width: 2*@circle-radius;
    height: 2*@circle-radius;
    background-color: #fff;
    border-radius: 50%;
    opacity: 0;
    animation-fill-mode: forwards;
    animation-duration: @circle-dur;
    animation-name: opacity;
    animation-iteration-count: 1;
    margin-left: -2px;
    // animation-delay: 
    &:nth-child(1){
      animation-delay: 3*@dur+@start-deley + 0;
    }
    &:nth-child(2){
      animation-delay: 3*@dur+@start-deley + 1*@circle-delay;
    }
    &:nth-child(3){
      animation-delay: 3*@dur+@start-deley + 2*@circle-delay;
    }
    &:nth-child(4){
      animation-delay: 3*@dur+@start-deley + 3*@circle-delay;
    }
    &:nth-child(5){
      animation-delay: 3*@dur+@start-deley + 4*@circle-delay;
    }
    &:nth-child(6){
      animation-delay: 3*@dur+@start-deley + 5*@circle-delay;
    }
    &:nth-child(7){
      animation-delay: 3*@dur+@start-deley + 6*@circle-delay;
    }
    &:nth-child(8){
      animation-delay: 3*@dur+@start-deley + 7*@circle-delay;
    }
  }
}
@lupe-delay: 50ms;
.lupe{
  transition: all 250ms;
  cursor: pointer;
  opacity: 0;
  z-index: -1;
  margin-top: -100px;
  &:hover{
    transform: scale(1.3);
  }
  &.active{
    // opacity: 0.5 !important;
    filter: grayscale(100%) brightness(140%);
    transform: scale(1);
    cursor: initial;
  }
  &:nth-child(1){
    transition-delay: 0;
  }
  &:nth-child(2){
    transition-delay: @lupe-delay;
  }
  &:nth-child(3){
    transition-delay: 2*@lupe-delay;
  }
  &:nth-child(4){
    transition-delay: 3*@lupe-delay;
  }
}


@keyframes opacity {
  from { opacity: 0 }
  to { opacity: 1 }
}
@keyframes width-anim {
  from { width: 0% }
  to { width: ~"calc(100% - 2*@{dist})" }
}
@keyframes width-anim-half {
  from { width: 0% }
  to { width: 40% }
}
@keyframes height-anim {
  from { height: 0% }
  to { height: ~"calc(100% - 2*@{dist})" }
}